<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Stonehearth UI</title>
<link rel="stylesheet/less" type="text/css" href="css/bootstrap.css" />
<link rel="stylesheet/less" type="text/css" href="css/style.less" />

<!-- TODO, figure out less -->
<!-- TODO, use bootstrap? -->
</head>

<body>

   <script type="text/x-handlebars">
      {{outlet}}

      {{#linkTo "index"}}index{{/linkTo}}
      {{#linkTo "game"}}game{{/linkTo}}

   </script>

   <script type="text/x-handlebars" data-template-name="game">
      {{render Stonehearth}}
   </script>

  <!-- lib -->
   <script type="text/javascript">
      less = {
           env: "development", // or "production"
           async: false,       // load imports async
           fileAsync: false,   // load imports async when in a page under
                            // a file protocol
           poll: 500,         // when in watch mode, time in ms between polls
           functions: {},      // user functions, keyed by name
           dumpLineNumbers: "comments", // or "mediaQuery" or "all"
           relativeUrls: false,// whether to adjust url's to be relative
                            // if false, url's are already relative to the
                            // entry less file
      };
   </script>

   <!-- core radiant libraries -->
   <script src="/radiant/js/external/jquery-1.8.2.min.js"></script>
   <script src="/radiant/js/external/simple_class.js"></script>
   <script src="/radiant/js/radiant/core.js"></script>
   <script src="/radiant/js/radiant/events.js"></script>

   <!-- external ui libraries -->
   <script src="js/libs/less-1.3.3.js"></script>
   <script src="js/libs/jquery-1.9.1.js"></script>
   <script src="js/libs/bootstrap.js"></script>
   <script src="js/libs/i18next-1.6.3.js"></script>
   <script src="js/libs/handlebars-1.0.0-rc.4.js"></script>
   <script src="js/libs/ember-1.0.0-rc.4.js"></script>

   <!-- the app -->
   <script src="js/app.js"></script>
   <script src="js/helpers.js"></script>
   <script src="js/stonehearth/model.js"></script>
   <script src="js/stonehearth/view.js"></script>
   <script src="js/stonehearth/route.js"></script>
   <script src="js/stonehearth/routes.js"></script>

   <!-- mods -->
   <script src="stonehearth/stonehearth.js"></script>
   <script src="mainbar/mainbar.js"></script>
   <script src="unitframe/unitframe.js"></script>
   <script src="objectbrowser/objectbrowser.js"></script>
   <!--
   <script src="mods/mainbar/mainbar.js"></script>
   <script src="mods/craftingWindow/craftingWindow.js"></script>
   -->

   <!-- start the app -->
   <script>
      App.Router.map(function() {
         return App.routeBuilder.call(this);
      });

      //App.start()
      //less.watch();
      //i18n.setDefaultNamespace('stonehearth');

      /*
      i18n.init({ 
         lng: "en",
         fallbackLng: false,
         ns: "stonehearth",
         resGetPath: '/mods/__ns__/locales/__lng__.json'
      });
      i18n.loadNamespace('mainbar', function() { console.log('loaded mainbar i18n namespace'); });
      */
   </script>

</body>
</html>
