<script type="text/x-handlebars" data-template-name="unitFrame">
   <div id="unitFrame">
      <div id="buffs">
         {{#each buffs}}
            {{#if this.name}}
               <div class="item" {{bind-attr title=this.name description=this.description}}>
                  <img {{bind-attr src=this.icon}} />
               </div>
            {{/if}}
         {{/each}}

      </div>

      <div id="info">
         <div class="inner">
            {{#if stonehearth:job}}
               <div id="jobButton" title="Show character sheet">
                  <img {{bind-attr src="stonehearth:job.class_icon"}} />
               </div>
            {{/if}}
            <div id="nameBlock">
               <div class="name" title="Focus camera on this unit">{{unit_info.name}}</div>
               <div class="description">{{unit_info.description}}</div>
            </div>
         </div>

         <div id="commandButtons">
            {{#each stonehearth:commands.commands itemView="stonehearthCommandButton"}}
               <a {{bind-attr id=this.name}} href="#" {{action "doCommand" this target="view"}} class='uisounds'>
                  <div {{bind-attr class=":commandButton enabled:buttonEnabled:buttonDisabled" hotkey=view.hotkey title=tooltip description=description}}>
                     <img {{bind-attr src="icon"}}>
                  </div>
               </a>
            {{/each}}
            <div id="backpack">
               {{#if backpackFull}}
                  <div id="full">{{i18n stonehearth:backpack_full}}</div>
               {{else}}
                  <div>{{stonehearth:backpack.num_items}} / {{stonehearth:backpack.capacity}}</div>
               {{/if}}
            </div>
         </div>

      </div>

   </div>
</script>
