<script type="text/x-handlebars" data-template-name="buildingDesignerTools">
   <div id="buildingDesignerTools" class="window flat">
      <div class="title">Tools</div>

      <div id="toolbar">
         <div hotkey="f" class="tabButton floorToolButton" tab="floorToolTab"><div class="label">{{i18n stonehearth:building_designer_floor_tool}}</div></div>
         <div hotkey="g" class="tabButton wallToolButton" tab="wallToolTab"><div class="label">{{i18n stonehearth:building_designer_fill_wall_tool}}</div></div>
         <div hotkey="r" class="tabButton roofToolButton" tab="roofToolTab"><div class="label">{{i18n stonehearth:building_designer_roof_tool}}</div></div>
         <div hotkey="n" class="tabButton doorToolButton" tab="doorToolTab"><div class="label">{{i18n stonehearth:building_designer_door_tool}}</div></div>
         <div hotkey="x" class="tabButton editToolButton" tab="editToolTab"><div class="label">{{i18n stonehearth:building_designer_edit_tool}}</div></div>
      </div>

      <div class="tabPage" id="floorToolTab" style="display: block">
         <h2>{{i18n stonehearth:building_designer_draw_floorplan}}</h2>
         {{i18n stonehearth:building_designer_draw_floorplan_help}}

         <h2>Tools</h2>
         <div class="section toolPalette">
            <div id="drawFloorTool">draw floor</div>
            <div id="eraseFloorTool">erase floor</div>
         </div>

         <h2>{{i18n stonehearth:building_designer_material}}</h2>
         <div class="brushPalette section">
            {{#each view.floorPatterns}}
               <!--<h2>{{category}}</h2>-->
               <div>
                  {{#each items}}
                     <img {{bind-attr brush="this.brush" src="this.portrait" title="this.name"}} class="floorMaterial" />
                  {{/each}}
               </div>
               <div style="clear: both"></div>
            {{/each}}
         </div>
      </div>

      <div class="tabPage" id="wallToolTab">
         <h2>{{i18n stonehearth:building_designer_erect_walls}}</h2>
         {{i18n stonehearth:building_designer_erect_walls_help}}
         
         <h2>Tools</h2>
         <div class="section toolPalette">
            <div id="drawWallTool">draw wall</div>
            <div id="growWallsTool">grow walls</div>
         </div>
         <h2>{{i18n stonehearth:building_designer_material}}</h2>
         <div class="brushPalette section">
            {{#each view.wallPatterns}}
               <!-- <h2>{{category}}</h2> -->
               <div>
                  {{#each items}}
                     <img {{bind-attr uri="this.uri" src="this.portrait" title="this.name"}} class="wallMaterial" />
                  {{/each}}
               </div>
               <div style="clear: both"></div>
            {{/each}}
         </div>

      </div>

      <div class="tabPage" id="roofToolTab">
         <h2>{{i18n stonehearth:building_designer_raise_roof}}</h2>
         {{i18n stonehearth:building_designer_raise_roof_help}}
         <h2>Tools</h2>
         <div class="section toolPalette">
            <div id="growRoofTool">grow roof</div>
         </div>
         <h2>{{i18n stonehearth:building_designer_material}}</h2>
         <div class="brushPalette section">
            {{#each view.roofPatterns}}
               <!-- <h2>{{category}}</h2> -->
               <div>
                  todo...roof options go here...
                  {{#each items}}
                     <a {{bind-attr name = "this.name"}}href="#" {{action selectRoofMaterial this target="view"}} class="brushLink">
                        <img {{bind-attr src="this.portrait" title="this.name"}} />
                     </a>
                  {{/each}}
               </div>
               <div style="clear: both"></div>
            {{/each}}
         </div>
      </div>

      <div class="tabPage" id="doorToolTab">
         <h2>{{i18n stonehearth:building_designer_doodads}}</h2>
         {{i18n stonehearth:building_designer_doodads_help}}
         {{#each view.doodads}}
            <h2>{{category}}</h2>
            <div class="brushPalette doodadPalette section">
               <div>
                  {{#each items}}
                     <img {{bind-attr uri="this.uri" src="this.portrait" title="this.name"}} class="small noBorder doodadTool"/>
                  {{/each}}
               </div>
            </div>
         {{/each}}
      </div>

      <div class="tabPage" id="editToolTab">
         <h2>{{i18n stonehearth:building_designer_edit}}</h2>
         Edit tools go here
         <div class="section">
            info about selected building part (when one is selected) goes here
         </div>
      </div>

      <!-- wizard panes -->
      <div id="growWallsWizard" class="window toolWizard">
         <div class="title">Grow Walls Around Floor<div id="closeGrowWallsWizard" class="closeDivButton"></div></div>
         Choose a material for your walls, then click the Grow Walls Around Floor button.
         <h2>{{i18n stonehearth:building_designer_material}}</h2>
         <div class="brushPalette section">
            {{#each view.wallPatterns}}
               <!-- <h2>{{category}}</h2> -->
               <div>
                  {{#each items}}
                     <img {{bind-attr uri="this.uri" src="this.portrait" title="this.name"}} class="wallMaterial" />
                  {{/each}}
               </div>
               <div style="clear: both"></div>
            {{/each}}
         </div>
         <br><br>
         <button {{bind-attr class=view.building:enabled:disabled}} id="growWallsButton">
            Grow Walls Around Floor
         </button>

      </div>
   </div>

   <div id="selectedBuildingWindow" class="window flat">
      <div class="title">{{ view.building.unit_info.name }}</div>

      <button class="warn" id="removeBuilding">{{i18n stonehearth:remove}}</button>

      <button {{bind-attr class=building.active:pause:start}} id="startBuilding">
         {{#if building.active }}
            Pause Building
         {{else}}
            Start Building
         {{/if}}
      </button>
   </div>

</script>
