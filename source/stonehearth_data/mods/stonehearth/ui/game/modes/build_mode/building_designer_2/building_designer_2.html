<script type="text/x-handlebars" data-template-name="buildingDesignerTools">
   <div id="buildingDesignerTools" class="window flat">
      <div class="title">Tools</div>

      <div id="toolbar">
         <div hotkey="f" class="tabButton floorToolButton" tab="floorToolTab"><div class="label">{{i18n stonehearth:building_designer_floor_tool}}</div></div>
         <div hotkey="g" class="tabButton wallToolButton" tab="wallToolTab"><div class="label">{{i18n stonehearth:building_designer_fill_wall_tool}}</div></div>
         <div hotkey="r" class="tabButton roofToolButton" tab="roofToolTab"><div class="label">{{i18n stonehearth:building_designer_roof_tool}}</div></div>
         <div hotkey="n" class="tabButton doodadToolButton" tab="doodadToolTab"><div class="label">{{i18n stonehearth:building_designer_door_tool}}</div></div>
         <div hotkey="x" class="tabButton editToolButton" tab="editToolTab"><div class="label">{{i18n stonehearth:building_designer_edit_tool}}</div></div>
         <div class="tabButton" id="undoTool"><div class="label">{{i18n stonehearth:building_designer_undo}}</div></div>
      </div>

      <div class="tabPage" id="floorToolTab" style="display: block">
         <h2>{{i18n stonehearth:building_designer_draw_floorplan}}</h2>
         {{i18n stonehearth:building_designer_draw_floorplan_help}}

         <h2>Tools</h2>
         <div class="section toolPalette">
         <div id="drawFloorTool" class="toolButton"></div>
            <div id="eraseFloorTool" class="toolButton"></div>
         </div>

         <!-- Material palette built dynamically and inserted here -->

      </div>

      <div class="tabPage" id="wallToolTab">
         <h2>{{i18n stonehearth:building_designer_erect_walls}}</h2>
         {{i18n stonehearth:building_designer_erect_walls_help}}
         
         <h2>Tools</h2>
         <div class="section toolPalette">
            <div id="drawWallTool" class="toolButton"></div>
            <div id="growWallsTool" class="toolButton"></div>
         </div>

         <!-- Material palette built dynamically and inserted here -->

      </div>

      <div class="tabPage" id="roofToolTab">
         <h2>{{i18n stonehearth:building_designer_raise_roof}}</h2>
         {{i18n stonehearth:building_designer_raise_roof_help}}
         <h2>Tools</h2>
         <div class="section toolPalette">
            <div id="growRoofTool" class="toolButton"></div>
         </div>

         <h2>{{i18n stonehearth:building_designer_material}}</h2>
         <div class="brushPalette section">
            {{#each view.roofPatterns}}
               <div>
                  todo...roof options go here...
                  {{#each items}}
                     <a {{bind-attr name = "this.name"}}href="#" {{action selectRoofMaterial this target="view"}} class="brushLink">
                        <img {{bind-attr src="this.portrait" title="this.name"}} />
                     </a>
                  {{/each}}
               </div>
               <div style="clear: both"></div>
            {{/each}}
         </div>

         {{render 'roofShape' this}}
      </div>

      <div class="tabPage" id="doodadToolTab">
         <h2>{{i18n stonehearth:building_designer_doodads}}</h2>
         {{i18n stonehearth:building_designer_doodads_help}}
         
         <h2>Tools</h2>
         <div class="section toolPalette">
            <div id="drawDoodadTool" class="toolButton"></div>
            <!-- <div id="eraseDoodadTool" class="toolButton"></div> -->
         </div>

         <!-- Material palette built dynamically and inserted here -->
         
      </div>

      <div class="tabPage" id="editToolTab">
         <h2>{{i18n stonehearth:building_designer_edit}}</h2>
         {{i18n stonehearth:building_designer_doodads_help}}
         <br><br>
         <div id="materialPicker">
         </div>
         {{render 'roofShape' this}}
      </div>
   </div>

   <div id="selectedBuildingWindow" class="window flat">
      <div class="title">{{ view.building.unit_info.name }}</div>

      <button class="warn" id="removeBuilding">{{i18n stonehearth:remove}}</button>

      <button {{bind-attr class=building.active:pause:start}} id="startBuilding">
         {{#if building.active }}
            Pause Building
         {{else}}
            Start Building
         {{/if}}
      </button>
   </div>

</script>

<script type="text/x-handlebars" data-template-name="roofShape">
   <div id="roofEditor">
      <h2>{{i18n stonehearth:building_designer_roof_shape}}
      <div class="brushPalette section ">
         <div class="roofShape">
            <div id="roofDiagram" />
            <div class="roofDiagramButton north" gradient="back"/>
            <div class="roofDiagramButton south" gradient="front"/>
            <div class="roofDiagramButton east" gradient="right" />
            <div class="roofDiagramButton west" gradient="left" />

            <div id="roofNumerics">
               <div>
                  <div class="label">Max height</div>
                  <div class="dec numericButton uisounds">-</div>
                  <input type="number" id="inputMaxRoofHeight" value="4" min="1" max="20" class="numericInput">
                  <div class="inc numericButton uisounds">+</div>
                  <div style="clear: both;" />
               </div>

               <div>
                  <div class="label">Rise slope</div>
                  <div class="dec numericButton uisounds">-</div>
                  <input type="number" id="inputMaxRoofHeight" value="1" min="4" max="1" class="numericInput">
                  <div class="inc numericButton uisounds">+</div>
                  <div style="clear: both;" />
               </div>
            </div>

         </div>

      </div>
   </div>
</script>