<script type="text/x-handlebars" data-template-name="town">
<div id="town" class="gui">
   <div class="window">
      <div class="title">Town Overview <div class="closeButton"></div></div>
      <div id="overviewTab" class="tabPage">
         <div id="info">
            <div id="townTitle">
               <div id="descriptor"></div>
               <div id="name">{{town_name}}</div>
            </div>

            <div id="citizenCount">
               <div id="workers" class="counter">
                  <div>{{num_workers}}</div>
               </div>
               <div id="crafters" class="counter">
                  <div>{{num_crafters}}</div>
               </div>
               <div id="soldiers" class="counter">
                  <div>{{num_soldiers}}</div>
               </div>
            </div>
         </div>
         <div id="scores" class="downSection">
            <div class="row">
            <div id="netWorthIcon" />
               <div>{{i18n town_net_worth}}</div>
               <div>{{score_data.net_worth.total_score}}</div>
            </div>

            <div class="row">
               <div id="happinessIcon" {{bind-attr class=view.happinessIconClass}} />
               <div>{{i18n town_overall_happiness}}</div>
               <div>{{view.overall_happiness}}</div>
            </div>
            <div class="row">
               <div id="happinessIcon" {{bind-attr class=view.foodHappinessIconClass}} />
               <div>{{i18n town_food_happiness}}</div>
               <div>{{view.food_happiness}}</div>
            </div>
            <div class="row">
               <div id="happinessIcon" {{bind-attr class=view.shelterHappinessIconClass}} />
               <div>{{i18n town_shelter_happiness}}</div>
               <div>{{view.shelter_happiness}}</div>
            </div>

         </div>
      </div>

      <div id="inventoryTab" class="tabPage">
         {{view "App.StonehearthInventoryTrackerView" trackerBinding="view.tracker"}}
      </div>
      
      <div id="journalsTab" class="tabPage">
         {{partial 'journalTab'}}
      </div>

   </div>

   <div id="tabs">
      <div class="tab active" tabPage="overviewTab">{{i18n town_overview}}</div>
      <div class="tab" tabPage="inventoryTab">{{i18n town_inventory}}</div>
      <div class="tab" tabPage="journalsTab">{{i18n town_happiness_tab}}</div>
   </div>

</div>
</script>


<!-- Template for the journal tab -->
<script type="text/x-handlebars" data-template-name="_journalTab">
   <div class="book">
      <div id="defaultMessage">No journal entries yet!</div>
   </div>

   <div id=dateControls>
      <a href='#' id="pageBackBtn" class="button" {{action back target=view}}></a>
      <div id="journalDate">{{i18n journal_today}}</div>
      <a href='#' id="pageForwardBtn" class="button" {{action forward target=view}}></a>
   </div>

</script>
