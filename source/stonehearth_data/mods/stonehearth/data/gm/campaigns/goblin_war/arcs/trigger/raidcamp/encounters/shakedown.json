{
   "type" : "encounter",
   "encounter_type" : "collection_quest",
   "rarity" : "common",

   "in_edge"  : "shakedown",

   "collection_quest_info" : {
      "out_edges" : {
         "refuse" : "spawn_city_raids",
         "fail" : "spawn_city_raids",
         "success" : "wait_for_next_shakedown"
      },

      "script" : "file(shakedown/shakedown.lua)",

      "source_entity" : "npc_boss_entity",

      "duration" : "2d",

      "bulletins" : {
         "shakedown" : {
            "title" : "A goblin with a fancy hat swaggers into town",
            "dialog_title" : "%name(npc_boss_entity)",
            "portrait" : "file(shakedown/boss_portrait.png)",
            "message" : "Hahaha!! Your puny settlement now part of Glittering Territory! Ah-peeze me with shinies! Come tomorrow, you bring me these things, or else!"
         },
         "collection_progress" : {
            "title" : "Appease the Goblins",
            "dialog_title" : "%name(npc_boss_entity)",
            "portrait" : "file(shakedown/boss_portrait.png)",
            "message" : "I'll be back for my stuff. Better have it, or no good for you hearthling."
         },
         "collection_due" : {
            "title" : "The goblin stomps back into town",
            "dialog_title" : "%name(npc_boss_entity)",
            "portrait" : "file(shakedown/boss_portrait.png)",
            "message" : "Glittering Army returns! Where iz stuff?"
         },
         "collection_failed" : {
            "title" : "The goblin looks incredulous",
            "dialog_title" : "%name(npc_boss_entity)",
            "portrait" : "file(shakedown/boss_portrait.png)",
            "message" : "You forgot stuff? You no make? You stain Glittering Army Honor! You die now!"
         },
         "shakedown_refused" : {
            "title" : "The goblin looks incredulous",
            "dialog_title" : "%name(npc_boss_entity)",
            "portrait" : "file(shakedown/boss_portrait.png)",
            "message" : "What? You say no? Then we take! TAKE ALL THINGS!!!!"
         }      
      }
   }
}
